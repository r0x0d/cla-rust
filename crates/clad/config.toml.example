# Configuration file for clad-redux proxy server
# Copy this file to config.toml and adjust settings as needed

# Backend settings for communicating with the external API.
[backend]
# The endpoint points to an API server.
endpoint = "http://127.0.0.1:8080"
# HTTP request timeout in seconds (increase for CPU inference)
timeout = 30
# Define https proxy to route the request through it (DEPRECATED).
# proxies = { http = "http://example-host:8002", https = "https://example-host:8002" }
# The proxy also accepts `username:password@localhost:8002` as it's input
# Note: This field is deprecated. Please use [backend.proxy] for newer proxy configuration fields.
# Provider to use: "rhel_lightspeed" or "lightspeed_core"
# rhel_lightspeed: Uses custom transformation for RHEL Lightspeed backend
# lightspeed_core: Pass-through provider for OpenAI-compatible backends
provider = "rhel_lightspeed"

# Proxy server settings (optional - defaults shown)
[backend.proxy]
# Host to bind the proxy server to
host = "127.0.0.1"
# Port to bind the proxy server to
port = 8080
# Allowed CORS origins (restrict to your client applications)
allowed_origins = [
    "http://localhost:8080",
    "http://127.0.0.1:8080"
]
# Rate limiting: maximum requests per second per IP
rate_limit_per_second = 10
# Rate limiting: maximum burst size (temporary spike allowance)
rate_limit_burst = 20

# Configure authentication settings for backend
[backend.auth]
# The path to the certificate file generated by RHSM.
cert_file = "/etc/pki/consumer/cert.pem"
# The path to the key file generated by RHSM.
key_file = "/etc/pki/consumer/key.pem"


# Logging configuration (optional)
[logging]
# Log level: TRACE, DEBUG, INFO, WARN, ERROR
level = "INFO"
